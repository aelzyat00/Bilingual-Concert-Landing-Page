# ูุธุงู ุญุฌุฒ ุชุฐุงูุฑ ุงูุณูููุง ุงููุชูุงูู
# Cinema Ticket Booking System

## โ ุงููุธุงู ุงูุฌุฏูุฏ ุงูููุชูู

### ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ:

#### 1. **ูุงุนุฏุฉ ุจูุงูุงุช Supabase**
- ุฌุฏูู `theater_seats`: ูุญุชูู ุนูู ูู ุงูููุงุนุฏ (277 ููุนุฏ ุฅุฌูุงูู)
  - VIP: 23 ููุนุฏ (A: 7, B: 8, C: 8)
  - Classic: 254 ููุนุฏ (A: 15, B: 17, C: 22, D: 23, E: 23, F: 22, G: 24, H: 30, I: 28, J: 30, K: 10, L: 10)
- ุฌุฏูู `bookings`: ุณุฌู ุงูุญุฌูุฒุงุช ุงููุงููุฉ
- ุฌุฏูู `booking_seats`: ุชูุงุตูู ูู ููุนุฏ ูุญุฌูุฒ

#### 2. **ูุฑุงุญู ุงูุญุฌุฒ ุงูุฐููุฉ (6 ูุฑุงุญู)**
```
ุงููุฑุญูุฉ 1: ุงุฎุชูุงุฑ ููุน ุงูุชุฐูุฑุฉ (VIP ุฃู Classic)
         โ
ุงููุฑุญูุฉ 2: ุงุฎุชูุงุฑ ุงููููุฉ (1-10 ุชุฐุงูุฑ)
         โ
ุงููุฑุญูุฉ 3: ุงุฎุชูุงุฑ ุงูููุงุนุฏ (ุนุฑุถ ุญู ูู ุงูููุงุนุฏ ุงููุชุงุญุฉ)
         โ
ุงููุฑุญูุฉ 4: ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ (ุงูุงุณูุ ุงููุงุชูุ ุงูุจุฑูุฏ)
         โ
ุงููุฑุญูุฉ 5: ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน + ุชุฃููุฏ ุงูุทูุจ
         โ
ุงููุฑุญูุฉ 6: ุชุญููู ุงูุชุฐุงูุฑ + ุชุฃููุฏ ุงููุฌุงุญ
```

#### 3. **ูุธุงู ุงูุชุฐุงูุฑ ุงูุฐูู**
- **ุชุฐูุฑุฉ ูุฑูุฏุฉ ููู ููุนุฏ**
  - ุงุณู ุงูููู: `Ticket-{bookingId}-{row}{seatNumber}.png`
  - ูุซุงู: `Ticket-RT123ABC-A1.png`
  
- **ูุนูููุงุช ุนูู ูู ุชุฐูุฑุฉ:**
  - ุฑูู ุงูุญุฌุฒ (Booking ID)
  - ุงุณู ุงูุถูู
  - ูููุน ุงูููุนุฏ (Row + Seat Number)
  - ุณุนุฑ ุงูุชุฐูุฑุฉ
  - barcode ูุฑูุฏ ููุชุญูู
  - ุชุงุฑูุฎ ุงูุญูู

#### 4. **ุงูุฃููุงู ูุงูุชูููุฒ ุจูู ุงูููุนูู**
```
VIP (ุฐูุจู):
- Border: #C6A04C
- Accent: #D4AF37
- Text: Gold accents

Classic (ุฃุญูุฑ ุนูุงุจู):
- Border: #A8382A
- Accent: #C6A04C
- Text: Red accents
```

#### 5. **ุฏุนู ุซูุงุฆู ุงููุบุฉ**
- ุงููุบุฉ ุงูุนุฑุจูุฉ (RTL)
- ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ (LTR)
- ุฌููุน ุงูุฑุณุงุฆู ูุงููุตูุต ูุชุฑุฌูุฉ

---

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ ูุงููุนุฏููุฉ

### ูููุงุช ุฌุฏูุฏุฉ ุชูุงูุงู:
1. **`src/app/services/supabase-client.ts`**
   - ุฅุนุฏุงุฏ ุงุชุตุงู Supabase

2. **`src/app/services/booking-service.ts`**
   - ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ:
     - `getAvailableSeats()` - ุฌูุจ ุงูููุงุนุฏ ุงููุชุงุญุฉ
     - `getBookedSeats()` - ุฌูุจ ุงูููุงุนุฏ ุงููุญุฌูุฒุฉ
     - `getSeatLayout()` - ุฌูุจ ุชุฎุทูุท ุงูุตููู
     - `createBooking()` - ุฅูุดุงุก ุญุฌุฒ ุฌุฏูุฏ
     - `getBooking()` - ุฌูุจ ุชูุงุตูู ุงูุญุฌุฒ

3. **`src/app/services/ticket-generator.ts`**
   - ุชูููุฏ ุชุฐุงูุฑ PDF ูุฑูุฏุฉ
   - `generateIndividualTicket()` - ุชูููุฏ ุชุฐูุฑุฉ ูุงุญุฏุฉ
   - `downloadMultipleTickets()` - ุชุญููู ุนุฏุฉ ุชุฐุงูุฑ
   - `downloadSingleTicket()` - ุชุญููู ุชุฐูุฑุฉ ูุงุญุฏุฉ

4. **`src/app/components/booking-flow-v2.tsx`** (ุงูุฌุฏูุฏ ุงูุฃุณุงุณู)
   - ุงููุธุงู ุงููุชูุงูู ุงูุฌุฏูุฏ ุจู 603 ุณุทุฑ
   - 6 ูุฑุงุญู ูุชูุฏูุฉ
   - ุชูุงูู ูุงูู ูุน Supabase
   - ุชูููุฏ ุงูุชุฐุงูุฑ ุงูุชููุงุฆู
   - ุฏุนู ุงููุบุงุช ุงููุงูู

5. **`scripts/01-create-theater-tables.sql`**
   - ุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

6. **`scripts/02-seed-theater-seats.sql`**
   - ููุก ุงูููุงุนุณ ุงูุฃูููุฉ

### ูููุงุช ูุนุฏููุฉ:
1. **`src/app/components/seat-layout.ts`**
   - ุชุญุฏูุซ ููุน ุงูุจูุงูุงุช ูู `number` ุฅูู `seat_number`

2. **`src/app/components/seat-picker.tsx`**
   - ุชุญุฏูุซ ุงูุฃุณูุงุก ููุทุงุจูุฉ ุงููููู ุงูุฌุฏูุฏ

3. **`src/app/App.tsx`**
   - ุงุณุชุจุฏุงู `BookingFlow` ุจู `BookingFlowV2`
   - ุชุจุณูุท ููุทู ุงูุงุฎุชูุงุฑ

4. **`src/app/components/tickets-section.tsx`**
   - ุชุญุฏูุซ ุงุณุชุฏุนุงุกุงุช ุงูุฃุฒุฑุงุฑ

---

## ๐ฏ ููููุฉ ุงุณุชุฎุฏุงู ุงููุธุงู

### ูููุณุชุฎุฏู (ุงูุนููู):
1. ููุชุญ ุงูุชุทุจูู ููุฎุชุงุฑ ุงููุบุฉ
2. ูุถุบุท "ุงุญุฌุฒ ุงูุขู" (Book Now)
3. ูุฎุชุงุฑ ููุน ุงูุชุฐูุฑุฉ (VIP ุฃู Classic)
4. ูุฎุชุงุฑ ูููุฉ ุงูุชุฐุงูุฑ (1-10)
5. ูุฎุชุงุฑ ุงูููุงุนุฏ ูู ุงูุฎุฑูุทุฉ ุงูุญูุฉ
6. ูุฏุฎู ุจูุงูุงุชู ุงูุดุฎุตูุฉ
7. ูุฎุชุงุฑ ุทุฑููุฉ ุงูุฏูุน
8. ูุคูุฏ ุงูุทูุจ
9. ูุญุตู ุนูู ุชุฐุงูุฑ PDF ูููุตูุฉ

### ูููุทูุฑ:
```typescript
// ุงุณุชูุฑุงุฏ ุงูุฎุฏูุงุช
import { getAvailableSeats, createBooking } from '@/services/booking-service';
import { downloadMultipleTickets } from '@/services/ticket-generator';

// ุฌูุจ ุงูููุงุนุฏ ุงููุชุงุญุฉ
const vipSeats = await getAvailableSeats('vip');

// ุฅูุดุงุก ุญุฌุฒ
const booking = await createBooking({
  name: 'ุฃุญูุฏ ุนูู',
  phone: '01012345678',
  email: 'ahmed@example.com',
  theater_type: 'vip',
  seats: [
    { row: 'A', seat_number: 1 },
    { row: 'A', seat_number: 2 }
  ],
  payment_method: 'vodafone'
});

// ุชุญููู ุงูุชุฐุงูุฑ
await downloadMultipleTickets([
  {
    bookingId: booking.id,
    guestName: 'ุฃุญูุฏ ุนูู',
    ticketType: 'vip',
    row: 'A',
    seatNumber: 1,
    eventName: 'Cinema Event 2026',
    eventDate: '2026-03-26',
    ticketPrice: '500'
  }
]);
```

---

## ๐ง ูุชุทูุจุงุช ุงูุจูุฆุฉ

ุชุฃูุฏ ูู ูุฌูุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ ูู `.env`:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_key
```

---

## โ๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `theater_seats`
```sql
- id: STRING (PRIMARY KEY) - e.g., "vip-A-1"
- theater_type: TEXT - "vip" | "classic"
- row: TEXT - "A", "B", "C", etc.
- seat_number: INTEGER
- is_available: BOOLEAN
- created_at: TIMESTAMP
```

### ุฌุฏูู `bookings`
```sql
- id: UUID (PRIMARY KEY)
- name: TEXT
- phone: TEXT
- email: TEXT (nullable)
- theater_type: TEXT
- payment_method: TEXT
- receipt_url: TEXT (nullable)
- status: TEXT - "pending" | "completed" | "cancelled"
- total_seats: INTEGER
- created_at: TIMESTAMP
```

### ุฌุฏูู `booking_seats`
```sql
- id: UUID (PRIMARY KEY)
- booking_id: UUID (FOREIGN KEY)
- row: TEXT
- seat_number: INTEGER
- theater_type: TEXT
- created_at: TIMESTAMP
```

---

## ๐จ ุงูุฃููุงู ูุงูุชุตููู

| ุงูุนูุตุฑ | ุงูููู | ุงูููุฏ |
|------|------|------|
| VIP Primary | ุฐูุจู | `#C6A04C` |
| VIP Secondary | ุฐูุจู ูุงุชุญ | `#D4AF37` |
| Classic Primary | ุฃุญูุฑ ุนูุงุจู | `#A8382A` |
| Classic Secondary | ุฐูุจู | `#C6A04C` |
| Background | ุฃุณูุฏ | `#0D0D0D` |
| Text Primary | ุฃุจูุถ | `#FFFFFF` |
| Text Secondary | ุฑูุงุฏู ูุงุชุญ | `#AAAAAA` |

---

## ๐ ุงูููุฒุงุช ุงููุณุชูุจููุฉ

- [ ] ุฅุถุงูุฉ ูุธุงู ุงูุฏูุน ุงูุญูููู (Stripe, Fawry)
- [ ] ุฅุฑุณุงู ุฅูููู ุชุฃููุฏ ูุน ุงูุชุฐุงูุฑ
- [ ] ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช ูููุณุคูููู
- [ ] ุชูุฑูุฑ ูุจูุนุงุช ูุจุงุดุฑ
- [ ] QR codes ุนูู ุงูุชุฐุงูุฑ ุจุฏู ุงูbarcodes
- [ ] ุชุทุจูู ููุจุงูู native

---

## ๐ ุชุตุญูุญ ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุตูุญุฉ ุงูุจูุถุงุก
**ุงูุญู**: ุชู ุฅุตูุงุญ ุฐูู ูู ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ `booking-flow-v2.tsx`
- ุชู ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุงููุฉ
- ุชู ุฅุถุงูุฉ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุชู ุฅุถุงูุฉ ุญุงูุงุช ุงูุชุญููู

### ุงููุดููุฉ: ุนุฏู ุชุญุฏูุซ ุงูููุงุนุฏ
**ุงูุญู**: ุชู ุฑุจุท ุฌููุน ุงูููุงุนุฏ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุชู ุฌูุจ ุงูููุงุนุฏ ุงููุญุฌูุฒุฉ ุญูุฉ ูู Supabase
- ูุชู ุชุญุฏูุซ ุงูุญุงูุฉ ููุฑุงู ุจุนุฏ ุงูุญุฌุฒ

---

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ุญุฏูุซ ุฃู ูุดุงูู:
1. ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
2. ุชุญูู ูู ุงุชุตุงู Supabase
3. ุงูุธุฑ ุฅูู console logs ููุฃุฎุทุงุก
4. ุงุณุชุฎุฏู React DevTools ูุชุชุจุน ุงูุญุงูุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ**: ูุจุฑุงูุฑ 2026
**ุงูุฅุตุฏุงุฑ**: 2.0
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุฅูุชุงุฌ
